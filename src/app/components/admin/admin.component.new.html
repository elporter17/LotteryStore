<!-- PANEL DE ADMINISTRACIÓN CON ESTILO MINIMALISTA -->
<div class="admin-interface">
  <!-- Header -->
  <div class="header-bar">
    <div class="admin-title">
      <h2><i class="fas fa-cog"></i> Panel de Administración</h2>
    </div>
    
    <button class="btn-header btn-cerrar" (click)="logout()" [disabled]="isLoading">
      <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
    </button>
  </div>

  <!-- Filtros de Fecha (similar al header de sucursal) -->
  <div class="filters-bar">
    <div class="filter-group">
      <label for="fechaDesde">Desde:</label>
      <input type="datetime-local" id="fechaDesde" class="form-control" 
             [(ngModel)]="fechaDesde" (change)="onFiltroFechaChange()">
    </div>
    
    <div class="filter-group">
      <label for="fechaHasta">Hasta:</label>
      <input type="datetime-local" id="fechaHasta" class="form-control" 
             [(ngModel)]="fechaHasta" (change)="onFiltroFechaChange()">
    </div>
    
    <div class="filter-group">
      <label for="sorteoFilter">Sorteo:</label>
      <select id="sorteoFilter" class="form-control" 
              [(ngModel)]="selectedSorteoFilter" (change)="aplicarFiltros()">
        <option value="">Todos los sorteos</option>
        <option *ngFor="let sorteo of sorteos" [value]="sorteo.name">{{ sorteo.label }}</option>
      </select>
    </div>
    
    <div class="filter-actions">
      <button class="btn-filter btn-primary" (click)="aplicarFiltros()" [disabled]="isLoading">
        <i class="fas fa-search"></i> Filtrar
      </button>
      <button class="btn-filter btn-secondary" (click)="limpiarFiltros()" [disabled]="isLoading">
        <i class="fas fa-eraser"></i> Limpiar
      </button>
    </div>
  </div>

  <!-- Contenido Principal -->
  <div class="main-content">
    
    <!-- Cards de Resumen con estilo minimalista -->
    <div class="summary-cards">
      <div class="summary-card vendido">
        <div class="card-icon">
          <i class="fas fa-chart-line"></i>
        </div>
        <div class="card-content">
          <h3>L {{ getTotalVendido().toFixed(2) }}</h3>
          <p>Total Vendido</p>
        </div>
      </div>
      
      <div class="summary-card pagado">
        <div class="card-icon">
          <i class="fas fa-coins"></i>
        </div>
        <div class="card-content">
          <h3>L {{ getTotalPagado().toFixed(2) }}</h3>
          <p>Total Pagado</p>
        </div>
      </div>
      
      <div class="summary-card ganancia" [class.positive]="getGananciaNeta() > 0" [class.negative]="getGananciaNeta() < 0">
        <div class="card-icon">
          <i class="fas fa-piggy-bank"></i>
        </div>
        <div class="card-content">
          <h3>L {{ getGananciaNeta().toFixed(2) }}</h3>
          <p>Ganancia Neta</p>
        </div>
      </div>
      
      <div class="summary-card ventas">
        <div class="card-icon">
          <i class="fas fa-shopping-cart"></i>
        </div>
        <div class="card-content">
          <h3>{{ getTotalVentas() }}</h3>
          <p>Ventas Totales</p>
        </div>
      </div>
    </div>

    
  </div>
</div>

<!-- Modal para crear/editar usuario -->
<div class="modal" [style.display]="showUserModal ? 'flex' : 'none'" [class.show]="showUserModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">
          <i class="fas fa-user"></i> {{ editingUser ? 'Editar Usuario' : 'Crear Usuario' }}
        </h5>
        <button type="button" class="close" (click)="closeUserModal()">
          <span>&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form #userForm="ngForm">
          <div class="form-group">
            <label for="userEmail">Email:</label>
            <input type="email" id="userEmail" class="form-input" required
                   [(ngModel)]="userFormData.email" name="email" 
                   placeholder="usuario@ejemplo.com">
          </div>
          
          <div class="form-group" *ngIf="!editingUser">
            <label for="userPassword">Contraseña:</label>
            <input type="password" id="userPassword" class="form-input" required
                   [(ngModel)]="userFormData.password" name="password" 
                   placeholder="Contraseña segura">
          </div>
          
          <div class="form-group">
            <label for="userRole">Rol:</label>
            <select id="userRole" class="form-input" 
                    [(ngModel)]="userFormData.role" name="role" required>
              <option value="admin">Administrador</option>
              <option value="sucursal">Sucursal</option>
            </select>
          </div>
          
          <div class="form-group" *ngIf="userFormData.role === 'sucursal'">
            <label for="userSucursal">Sucursal:</label>
            <input type="text" id="userSucursal" class="form-input" 
                   [(ngModel)]="userFormData.sucursal" name="sucursal" 
                   placeholder="Nombre de la sucursal">
          </div>
          
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" [(ngModel)]="userFormData.active" name="active">
              <span class="checkmark"></span>
              Usuario Activo
            </label>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-modal btn-secondary" (click)="closeUserModal()">
          <i class="fas fa-times"></i> Cancelar
        </button>
        <button type="button" class="btn-modal btn-primary" (click)="saveUser()" 
                [disabled]="!userForm.valid || isLoading">
          <i class="fas fa-save"></i> {{ editingUser ? 'Actualizar' : 'Crear' }}
        </button>
      </div>
    </div>
  </div>
</div>
